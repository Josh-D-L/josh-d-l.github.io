<!DOCTYPE html>
<HTML>
<head>
	<link rel="canonical" href="https://josh-d-l.github.io/Math-Machines/Feedback" />
	<script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
	<style>
	.spoiler {
		background-color: #A0A0A0;
		display: inline;
		position: fixed;
		right: 25px;
		top: 20px;
	}
	</style>
</head>
<BODY>
<H1 style="text-align:center" id="title">Feedback</H1>
<p style="text-align:center">Any comments or suggestions go here.</p>
<button type="button" style="position: fixed; right: 25px; top: 0px;" id="spoilerShow" onclick="toggleDisplay()">Settings</button>
<br>
<br>
<div class="spoiler" onmouseout="hide()" id="spoiler">
	<input type="color" id="Background Color" onchange="backgroundColor()">
	Background Color
	<br>
	<input type="color" id="Text Color" onchange="textColor()">
	Text Color
	<br>
	<input type="color" id="Title Color" onchange="titleColor()">
	Title Color
	<br>
	<input type="number" id="Font Size" onchange="fontSize()" style="width: 45px" value="16" min="1" max="100">
	Font Size (px)
	<br>
	<button type="button" onclick="reset()">Reset Settings</button>
</div>
<form action="HIDDEN" id="contact-form" role="form" method="POST">
	<input type="text" name="_gotcha" style="display:none" />
	<input type="hidden" name="_subject" value="Math Machines Feedback" />
	<input type="hidden" name="_next" value="https://josh-d-l.github.io/Math-Machines/Thanks" />
	<input type="email" name="_replyto" placeholder="Your email" />
	<br>
	<input type="text" name="Name" placeholder="Name (Optional)" />
	<br>
	<textarea name="comments" placeholder="Comments" rows="5" width="50px" /></textarea>
	<br>
	<input type="Submit" value="Send" />
</form>
<script type="text/javascript">
	$(document).ready(function() {
	var base64_email = 'emVwaWVndXlAZ21haWwuY29t';
	var base_url = 'https://formspree.io/';
	var action = base_url + atob(base64_email);
	$('#contact-form').attr('action', action);
});
</script>
<script>
	document.getElementsByClassName("spoiler")[0].style.display = "none";
	document.getElementById("Background Color").value = "#FFFFFF";
	titleColor();
	var toggle = "on";
	function toggleDisplay() {
		if (toggle == "on") {
			document.getElementById("spoiler").style.display = "initial";
			toggle = "off";
		} else {
			document.getElementById("spoiler").style.display = "none";
			toggle = "on";
		}
	}
	var validNavigation = false;
	function endSession() {
		localStorage.setItem("Background Color", document.getElementById("Background Color").value);
		localStorage.setItem("Title Color", document.getElementById("Title Color").value);
		localStorage.setItem("Text Color", document.getElementById("Text Color").value);
	}
	window.onbeforeunload = function() {
		if (!validNavigation) {
			 endSession();
		}
	}
	window.onkeypress=function(e) {
		if (e.keyCode == 116){
			validNavigation = true;
		}
	};
	function hide() {
		var wait = setTimeout(function() {
			toggle = "on";
			document.getElementById("spoiler").style.display = "none";
		}, 3000);
		document.getElementById("spoiler").addEventListener("mouseover", function() {
			clearTimeout(wait);
		}, false);
	}
	function backgroundColor() {
		var color = document.getElementById("Background Color").value;
		document.body.style.backgroundColor = color;
	}
	function textColor() {
		var color = document.getElementById("Text Color").value;
		document.body.style.color = color;
	}
	function titleColor() {
		var color = document.getElementById("Title Color").value;
		document.getElementById("title").style.color = color;
	}
	function fontSize() {
		var size = document.getElementById("Font Size").value;
		document.body.style.fontSize = size + "px";
	}
	function settings() {
		document.getElementById("Background Color").value = localStorage.getItem("Background Color");
		if (localStorage.getItem("Font Size") != null) {
			document.getElementById("Font Size").value = localStorage.getItem("Font Size");
			document.body.style.fontSize = localStorage.getItem("Font Size") + "px";
		}
		document.getElementById("Title Color").value = localStorage.getItem("Title Color");
		document.getElementById("Text Color").value = localStorage.getItem("Text Color");
		document.getElementById("title").style.color = localStorage.getItem("Title Color");
		document.body.style.color = localStorage.getItem("Text Color");
		document.body.style.backgroundColor = localStorage.getItem("Background Color");
	}
	settings();
	function reset() {
		document.getElementById("Background Color").value = "#FFFFFF";
		document.getElementById("Title Color").value = "#000000";
		document.getElementById("Text Color").value = "#000000";
		document.getElementById("title").style.color = "#000000";
		document.getElementById("Font Size").value = "16";
		document.body.style.color = "#000000";
		document.body.style.fontSize = 16 + "px";
		document.body.style.backgroundColor = "#FFFFFF";
	}
</script>
<H5 style="position: fixed; bottom: 0px; right: 25px; color: #000000" id="mine">
	Copyright Josh Lawson
	</H5>
	<div style="position: fixed; bottom: 0px; left: 0px; color: #000000">
		<a href="https://josh-d-l.github.io/" style="font-size: 200%;">Home Page</a>
 	</div>
 	<script>
 	  var host = "http://josh-d-l.github.io";
		if ((host == window.location.host) && (window.location.protocol != "https:")) {
			window.location.protocol = "https";
		}
 	</script>
</BODY>
</HTML>
